<!DOCTYPE html>

<html ng-app="climateApp">

<head>
  <title>climate_change_morality</title>

  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/1.11.0/jquery.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.2/angular.js"></script>

  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="http://cdn.rawgit.com/t4t5/sweetalert/master/lib/sweet-alert.css">
</head>

<body>
  <div ng-controller="EnergyProvidersCtrl">
    <p>
      You live in Hamilton, NY and use <input type="number" min="0" ng-model="monthlyUsage" ng-required=true ng-change="updateDifferences()"> kWh of electricity per month.
      Realizing that you can change your electricity provider from the incumbent utility to many different third party options,
        you decide to compare them based on their price and greenhouse gas emissions...
    </p>
    <p><i>Click on any provider to compare it.</i></p>
    <highchart id="chart1" config="chartConfig" ng-click="updateSelectedProvider()"></highchart>
    <div ng-if="selected">
      <p>
        You think about switching to <strong>{{ selected.provider }}</strong>.
        It will cost you <strong>{{ selected.price * monthlyUsage | currency }}</strong> a month, with a <strong>{{ selected.pricingScheme | lowercase }}</strong> pricing scheme.
        <span ng-if="selected.mix">
          They say their energy comes from <strong>{{ selected.mix | prettyMix }}</strong>.
        </span>
        <span ng-if="!selected.mix">
          They did not specify where what their energy mix is, so we assume it
          is <strong>{{ selected.normalizedMix | prettyMix }}</strong>.
        </span>
        This means they produce <strong>{{ selected.emmissions | number : 0 }} GtCO<sub>2</sub>eq per kwH</strong>
        <span ng-if="selected.green">
          and are marked as a "Green" provider
        </span>.
        <span ng-if="selected.minTerm">
          They have a minimum service term of <strong>{{selected.minTerm}}</strong><span ng-if="selected.cancellationFee > 0">, with a cancellation fee of <strong>{{selected.cancellationFee | currency }}</strong></span>.
        </span>
      </p>
      <p>
        If you switched, and kept them until 2030 you would {{ (priceDifference < 0) ? "lose" : "save" }} {{ priceDifference | abs | currency }}.
        Based on the difference in carbon outputs, you would cause {{ lifeDifference | abs | number : 5 }} more people to  {{ (lifeDifference > 0) ? "live" : "die" }} between 2030 and 2050, than if you stayed with the default.
        <span ng-if="priceDifference < 0 && lifeDifference > 0">
          This means you would be paying be paying {{ (priceDifference / lifeDifference) | abs | currency }} per life saved.
        </span>
    </div>
  </div>
  <div ng-controller="InfoCtrl">
    <div ng-bind-html="readme"></div>
  </div>

  <script src="//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.7.0/underscore.js"></script>
  <script src="//epeli.github.io/underscore.string/dist/underscore.string.min.js"></script>

  <script src="//code.highcharts.com/highcharts.src.js"></script>
  <script src="//cdn.rawgit.com/pablojim/highcharts-ng/master/src/highcharts-ng.js"></script>

  <script src="//cdn.rawgit.com/t4t5/sweetalert/master/lib/sweet-alert.js"></script>

  <script src="//cdn.rawgit.com/floydsoft/angular-underscore/master/angular-underscore.js"></script>

  <script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.8.4/moment.js"></script>

  <script src="//cdn.rawgit.com/gentooboontoo/js-quantities/master/src/quantities.js"></script>

  <script src="//cdnjs.cloudflare.com/ajax/libs/marked/0.3.2/marked.js"></script>

  <script src="utils.js"></script>
  <script src="main.js"></script>
  <script src="filters.js"></script>
  <script src="constants.js"></script>
  <script src="services.js"></script>
  <script src="controllers.js"></script>
</body>

</html>
